<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Aggiungi Nuova Squadra</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
      .form-section {
          margin-top: 40px;
          padding: 20px;
          background: #f8f9fa;
          border-radius: 10px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }
      .disabled-select {
          background-color: #e9ecef;
          pointer-events: none;
      }
    </style>
</head>
<body>
<!-- form per aggiungere una nuova squadra -->
<div class="form-section mt-5">
  <h4>Aggiungi Nuova Squadra</h4>
  <form method="post" th:action="@{/areaadmin/squadra/aggiungi}" enctype="multipart/form-data">

    <fieldset>
      <legend>Squadra</legend>
      <input type="text" name="nome" th:value="${squadra.nome}" placeholder="Nome squadra" required>
      <br>
      <label for="logo_squadra">Logo squadra:</label>
      <input type="file" name="logo" accept="image/*" th:value="${squadra.logo}" id="logo_squadra" required>
      <div class="mb-3">
        <label for="capitano">Capitano</label>
        <input type="text"
               name="capitano"
               id="capitano"
               class="form-control"
               value="Il capitano sarà scelto successivamente"
               readonly
               style="background-color: #e9ecef; font-style: italic; color: #6c757d;">
        <small class="form-text text-muted">
          Dopo aver registrato i giocatori per questa squadra, potrai tornare nella sezione "Squadre" e selezionare il capitano.
        </small>
      </div>

      <br>
      <input type="text" name="descrizione" th:value="${squadra.descrizione}" placeholder="Descrizione squadra" required>
      <br>
      <select name="nazionalita" required>
        <option value="" disabled selected>Scegli la nazionalità</option>
        <option th:each="nazionalita : ${nazionalita}" th:text="${nazionalita.nazione} + ' (' + ${nazionalita.sigla} + ')'" th:value="${nazionalita.idNazionalita}" th:selected="${squadra.nazionalita != null && squadra.nazionalita.idNazionalita == nazionalita.idNazionalita}"></option>
      </select>
    </fieldset>
    <br>
    <fieldset>
      <legend>Allenatore</legend>
      <input type="text" name="nomeAllenatore" th:value="${allenatore.nome}" placeholder="Nome allenatore (facoltativo)">
      <input type="text" name="cognomeAllenatore" th:value="${allenatore.cognome}" placeholder="Cognome allenatore" required>
      <br>
      <label for="immagine_allenatore">Card allenatore:</label>
      <input type="file" name="immagineAllenatore" accept="image/*" th:value="${allenatore.immagine}" id="immagine_allenatore" required>
      <select name="nazionalitaAllenatore" required>
        <option value="" disabled selected>Scegli la nazionalità dell'allenatore</option>
        <option th:each="nazionalita : ${nazionalita}"
                th:text="${nazionalita.nazione} + ' (' + ${nazionalita.sigla} + ')'"
                th:value="${nazionalita.idNazionalita}"
                th:selected="${allenatore.nazionalita != null && allenatore.nazionalita.idNazionalita == nazionalita.idNazionalita}">
        </option>
      </select>
      <br>
      <input type="text" name="descrizioneAllenatore" th:value="${allenatore.descrizione}" placeholder="Descrizione allenatore" required>
      <br>
      <select name="modulo" required>
        <option value="" disabled selected>Scegli il modulo di gioco</option>
        <option th:each="modulo : ${modulo}" th:text="${modulo.schemaGioco}" th:value="${modulo.idModulo}" th:selected="${squadra.modulo != null && squadra.modulo.idModulo == modulo.idModulo}"></option>
      </select>
    </fieldset>
    <br>
    <fieldset>
      <legend>Stadio</legend>
      <input type="text" name="nomeStadio" th:value="${stadio.nome}" placeholder="Nome stadio" required>
      <input type="number" name="capienza" id="capienza" min="10000" max="100000" step="500" placeholder="Capienza (spettatori)" required>
      <br>
      <input type="text" name="ultras" id="ultras" placeholder="Nome ultras" th:value="${stadio.ultras}" required>
      <br>
      <label for="immagine_stadio">Card stadio:</label>
      <input type="file" name="immagineStadio" accept="image/*" th:value="${stadio.immagine}" id="immagine_stadio" required>
    </fieldset>

    <button type="submit" class="btn btn-success">Salva Squadra</button>
  </form>
</div>
</body>
</html>